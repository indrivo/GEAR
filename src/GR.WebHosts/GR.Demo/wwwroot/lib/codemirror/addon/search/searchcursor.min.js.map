{"version":3,"sources":["searchcursor.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","doFold","noFold","Pos","ensureFlags","regexp","flags","current","ignoreCase","global","multiline","target","i","length","indexOf","charAt","RegExp","source","searchRegexpForward","doc","start","line","ch","last","lastLine","lastIndex","string","getLine","match","exec","from","index","to","lastMatchIn","cutOff","newMatch","adjustPos","orig","folded","pos","foldFunc","min","max","Math","mid","len","slice","SearchCursor","query","options","caseFold","this","atOccurrence","clipPos","matches","reverse","fold","lines","split","search","first","firstLine","found","lastIndexOf","top","topString","cutFrom","end","endString","chunk","curLine","before","inside","startLine","startCh","test","String","prototype","normalize","str","toLowerCase","findNext","find","findPrevious","result","cmpPos","replace","newText","origin","splitLines","replaceRange","defineExtension","defineDocExtension","ranges","cur","getSearchCursor","getCursor","push","anchor","head","setSelections"],"mappings":"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"}