{"version":3,"sources":["closetag.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","defineOption","cm","val","old","Init","removeKeyMap","map","name","whenClosing","getOption","Pass","autoCloseCurrent","whenOpening","ranges","listSelections","replacements","opt","i","length","empty","pos","head","tok","getTokenAt","inner","innerMode","getMode","state","mode","tagName","html","configuration","dontCloseTags","htmlDontClose","indentTags","htmlIndent","end","ch","slice","lowerTagName","toLowerCase","type","test","string","charAt","indexOf","closingTagExists","emptyTags","text","newPos","Pos","line","indent","dontIndentOnAutoClose","info","replaceRange","anchor","sel","setSelections","indentLine","autoCloseGT","addKeyMap","typingSlash","dontIndentOnSlash","replacement","start","context","getLine","replaceSelections","collection","elt","e","newTag","scanForClosingTag","Math","min","lastLine","nextClose","tag","cx","onCx","prev","to","next","commands","closeTag"],"mappings":"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"}