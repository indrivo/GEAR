@using ST.PageRender.Razor.Helpers

<!DOCTYPE html>
@if (User.Identity.IsAuthenticated)
{
	var layoutId = (Guid?) ViewData["layoutId"] ?? PageManager.Layouts[0];

	<html>
	<head>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<link rel="stylesheet" type="text/css" href="~/lib/jquery-toast-plugin/jquery.toast.min.css"/>
		<title>@ViewData["Title"] - ISO</title>
		<layout-css-code layout-id="@layoutId"></layout-css-code>
		<application-styles layout-id="@layoutId"></application-styles>
		@RenderSection("PreScripts", required: false)
		<application-scripts layout-id="@layoutId"></application-scripts>
		@RenderSection("Styles", required: false)
		<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
			<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->
	</head>
	<body class="fix-header fix-sidebar card-no-border">
	<application layout-id="@layoutId">
		@RenderBody()
	</application>

	<partial name="_LayoutScriptPartial"/>
	<layout-js-code layout-id="@layoutId"></layout-js-code>

	<script src="~/assets/js/form/formeo.min.js"></script>
	<script src="~/assets/js/form/form-generate.js" asp-append-version="true"></script>
	<script src="~/lib/signalr/dist/browser/signalr.min.js"></script>
	<script src="~/js/signalar.js" asp-append-version="true"></script>
	<script src="~/lib/jquery-toast-plugin/jquery.toast.min.js"></script>
	<script src="~/assets/js/plugins/st-ui-cookie-plugin-v.0.1.js" asp-append-version="true"></script>
	<script src="~/assets/js/plugins/st-ui-table-column-visibility-v.0.1.js" asp-append-version="true"></script>
	@RenderSection("Scripts", false)
	<partial name="_AssistanceChat" model="layoutId"/>
	</body>
	</html>
}
else
{
	@RenderBody()
	@RenderSection("Scripts", false)
}